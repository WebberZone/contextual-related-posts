(()=>{"use strict";var e={n:t=>{var o=t&&t.__esModule?()=>t.default:()=>t;return e.d(o,{a:o}),o},d:(t,o)=>{for(var s in o)e.o(o,s)&&!e.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:o[s]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=window.wp.blocks,o=window.ReactJSXRuntime,s=(0,o.jsxs)("svg",{viewBox:"-1.6 -1.6 19.20 19.20",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"",children:[(0,o.jsx)("g",{id:"SVGRepo_bgCarrier",strokeWidth:0,children:(0,o.jsx)("rect",{x:-1.6,y:-1.6,width:19.2,height:19.2,rx:0,fill:"#FFBD59",strokeWidth:0})}),(0,o.jsx)("g",{id:"SVGRepo_tracerCarrier",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.jsxs)("g",{id:"SVGRepo_iconCarrier",children:[(0,o.jsx)("path",{d:"M3 1H1V3H3V1Z",fill:"#0a0a0a"}),(0,o.jsx)("path",{d:"M3 5H1V7H3V5Z",fill:"#0a0a0a"}),(0,o.jsx)("path",{d:"M1 9H3V11H1V9Z",fill:"#0a0a0a"}),(0,o.jsx)("path",{d:"M3 13H1V15H3V13Z",fill:"#0a0a0a"}),(0,o.jsx)("path",{d:"M15 1H5V3H15V1Z",fill:"#0a0a0a"}),(0,o.jsx)("path",{d:"M15 5H5V7H15V5Z",fill:"#0a0a0a"}),(0,o.jsx)("path",{d:"M5 9H15V11H5V9Z",fill:"#0a0a0a"}),(0,o.jsx)("path",{d:"M15 13H5V15H15V13Z",fill:"#0a0a0a"})]})]}),a=window.wp.i18n,l=window.wp.blockEditor,r=window.wp.data,n=window.wp.serverSideRender;var d=e.n(n);const i=window.wp.hooks,p=window.wp.components,h=({heading:e,title:t,onChangeTitle:s,toggleHeading:l})=>(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(p.PanelRow,{children:(0,o.jsx)(p.ToggleControl,{label:(0,a.__)("Show heading","contextual-related-posts"),help:e?(0,a.__)("Heading displayed","contextual-related-posts"):(0,a.__)("No Heading displayed","contextual-related-posts"),checked:e,onChange:l})}),e&&(0,o.jsx)(p.PanelRow,{children:(0,o.jsx)(p.TextControl,{label:(0,a.__)("Heading of posts","contextual-related-posts"),value:t,onChange:s,help:(0,a.__)("Displayed before the list of the posts as a master heading. HTML allowed.","contextual-related-posts")})})]}),c=({show_excerpt:e,show_author:t,show_date:s,toggleShowExcerpt:l,toggleShowAuthor:r,toggleShowDate:n})=>(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(p.PanelRow,{children:(0,o.jsx)(p.ToggleControl,{label:(0,a.__)("Show excerpt","contextual-related-posts"),help:e?(0,a.__)("Excerpt displayed","contextual-related-posts"):(0,a.__)("No excerpt","contextual-related-posts"),checked:e,onChange:l})}),(0,o.jsx)(p.PanelRow,{children:(0,o.jsx)(p.ToggleControl,{label:(0,a.__)("Show author","contextual-related-posts"),help:t?(0,a.__)('"by Author Name" displayed',"contextual-related-posts"):(0,a.__)("No author displayed","contextual-related-posts"),checked:t,onChange:r})}),(0,o.jsx)(p.PanelRow,{children:(0,o.jsx)(p.ToggleControl,{label:(0,a.__)("Show date","contextual-related-posts"),help:s?(0,a.__)("Date of post displayed","contextual-related-posts"):(0,a.__)("Date of post not displayed","contextual-related-posts"),checked:s,onChange:n})})]}),x=({limit:e,offset:t,onChangeLimit:s,onChangeOffset:l})=>(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(p.PanelRow,{children:(0,o.jsx)(p.TextControl,{label:(0,a.__)("Number of posts","contextual-related-posts"),value:e,onChange:s,help:(0,a.__)("Maximum number of posts to display","contextual-related-posts")})}),(0,o.jsx)(p.PanelRow,{children:(0,o.jsx)(p.TextControl,{label:(0,a.__)("Offset","contextual-related-posts"),value:t,onChange:l,help:(0,a.__)("Number of posts to skip from the top","contextual-related-posts")})})]}),g=({ordering:e,random_order:t,onChangeOrdering:s,toggleRandomOrder:l})=>(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(p.PanelRow,{children:(0,o.jsx)(p.RadioControl,{label:(0,a.__)("Order posts","contextual-related-posts"),selected:e,onChange:s,help:(0,a.__)("This option directly edits the query","contextual-related-posts"),options:[{value:"relevance",label:(0,a.__)("By relevance","contextual-related-posts")},{value:"random",label:(0,a.__)("Randomly","contextual-related-posts")},{value:"date",label:(0,a.__)("By date","contextual-related-posts")}]})}),(0,o.jsx)(p.PanelRow,{children:(0,o.jsx)(p.ToggleControl,{label:(0,a.__)("Randomize posts","contextual-related-posts"),help:t?(0,a.__)("Posts are shuffled on each load","contextual-related-posts"):(0,a.__)("Posts displayed based on above setting","contextual-related-posts"),checked:t,onChange:l})})]}),_=({value:e,onChange:t})=>(0,o.jsx)(p.PanelRow,{children:(0,o.jsx)(p.TextareaControl,{label:(0,a.__)("Other attributes","contextual-related-posts"),value:e,onChange:t,help:(0,a.__)("Enter other attributes in a URL-style string-query. e.g. post_types=post,page&exclude_post_ids=5,6","contextual-related-posts"),style:{width:"100%"}})}),u=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":3,"name":"contextual-related-posts/related-posts","version":"2.6.0","title":"Contextual Related Posts","category":"widgets","icon":"list-view","keywords":["related posts","posts","contextual"],"description":"Display the Related Posts","supports":{"html":false},"attributes":{"className":{"type":"string"},"heading":{"type":"boolean"},"title":{"type":"string"},"limit":{"type":"string"},"offset":{"type":"string"},"show_excerpt":{"type":"boolean"},"show_author":{"type":"boolean"},"show_date":{"type":"boolean"},"crp_styles":{"type":"string"},"post_thumb_op":{"type":"string"},"ordering":{"type":"string"},"random_order":{"type":"boolean"},"other_attributes":{"type":"string"}},"textdomain":"contextual-related-posts","editorScript":"file:./index.js"}');(0,t.registerBlockType)(u.name,{...u,icon:s,edit:function({attributes:e,setAttributes:t}){const n=(0,r.select)("core/editor"),u=n?n.getCurrentPostId():0,w=e=>o=>{t({[e]:o})},j=o=>()=>{t({[o]:!e[o]})};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(l.InspectorControls,{children:(0,o.jsxs)(p.PanelBody,{title:(0,a.__)("Related Posts Settings","contextual-related-posts"),initialOpen:!0,children:[(0,o.jsx)(h,{heading:e.heading,title:e.title,onChangeTitle:w("title"),toggleHeading:j("heading")}),(0,o.jsx)(x,{limit:e.limit,offset:e.offset,onChangeLimit:w("limit"),onChangeOffset:w("offset")}),(0,o.jsx)(c,{show_excerpt:e.show_excerpt,show_author:e.show_author,show_date:e.show_date,toggleShowExcerpt:j("show_excerpt"),toggleShowAuthor:j("show_author"),toggleShowDate:j("show_date")}),(0,o.jsx)(g,{ordering:e.ordering,random_order:e.random_order,onChangeOrdering:w("ordering"),toggleRandomOrder:j("random_order")}),(0,i.applyFilters)("crp-edit-inspector-controls","",e,t)]})}),(0,o.jsx)(l.InspectorControls,{group:"advanced",children:(0,o.jsx)(_,{value:e.other_attributes,onChange:w("other_attributes")})}),(0,o.jsx)("div",{...(0,l.useBlockProps)(),children:u?(0,o.jsx)(p.Disabled,{children:(0,o.jsx)(d(),{block:"contextual-related-posts/related-posts",attributes:e})}):(0,o.jsx)(p.Placeholder,{icon:s,label:(0,a.__)("Contextual Related Posts","contextual-related-posts"),instructions:(0,a.__)("This is a placeholder for the related posts block. Visit the front end of your site to see the related posts.","contextual-related-posts")})})]})}})})();