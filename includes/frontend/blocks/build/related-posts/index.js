(()=>{"use strict";var e={n:t=>{var l=t&&t.__esModule?()=>t.default:()=>t;return e.d(l,{a:l}),l},d:(t,l)=>{for(var o in l)e.o(l,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:l[o]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=window.wp.blocks,l=window.React,o=(0,l.createElement)("svg",{viewBox:"-1.6 -1.6 19.20 19.20",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:""},(0,l.createElement)("g",{id:"SVGRepo_bgCarrier",strokeWidth:0},(0,l.createElement)("rect",{x:-1.6,y:-1.6,width:19.2,height:19.2,rx:0,fill:"#FFBD59",strokeWidth:0})),(0,l.createElement)("g",{id:"SVGRepo_tracerCarrier",strokeLinecap:"round",strokeLinejoin:"round"}),(0,l.createElement)("g",{id:"SVGRepo_iconCarrier"},(0,l.createElement)("path",{d:"M3 1H1V3H3V1Z",fill:"#0a0a0a"}),(0,l.createElement)("path",{d:"M3 5H1V7H3V5Z",fill:"#0a0a0a"}),(0,l.createElement)("path",{d:"M1 9H3V11H1V9Z",fill:"#0a0a0a"}),(0,l.createElement)("path",{d:"M3 13H1V15H3V13Z",fill:"#0a0a0a"}),(0,l.createElement)("path",{d:"M15 1H5V3H15V1Z",fill:"#0a0a0a"}),(0,l.createElement)("path",{d:"M15 5H5V7H15V5Z",fill:"#0a0a0a"}),(0,l.createElement)("path",{d:"M5 9H15V11H5V9Z",fill:"#0a0a0a"}),(0,l.createElement)("path",{d:"M15 13H5V15H15V13Z",fill:"#0a0a0a"}))),a=window.wp.i18n,n=window.wp.blockEditor,r=window.wp.data,s=window.wp.serverSideRender;var d=e.n(s);const i=window.wp.components,p=({heading:e,title:t,onChangeTitle:o,toggleHeading:n})=>(0,l.createElement)(l.Fragment,null,(0,l.createElement)(i.PanelRow,null,(0,l.createElement)(i.ToggleControl,{label:(0,a.__)("Show heading","contextual-related-posts"),help:e?(0,a.__)("Heading displayed","contextual-related-posts"):(0,a.__)("No Heading displayed","contextual-related-posts"),checked:e,onChange:n})),e&&(0,l.createElement)(i.PanelRow,null,(0,l.createElement)(i.TextControl,{label:(0,a.__)("Heading of posts","contextual-related-posts"),value:t,onChange:o,help:(0,a.__)("Displayed before the list of the posts as a master heading. HTML allowed.","contextual-related-posts")}))),c=({show_excerpt:e,show_author:t,show_date:o,toggleShowExcerpt:n,toggleShowAuthor:r,toggleShowDate:s})=>(0,l.createElement)(l.Fragment,null,(0,l.createElement)(i.PanelRow,null,(0,l.createElement)(i.ToggleControl,{label:(0,a.__)("Show excerpt","contextual-related-posts"),help:e?(0,a.__)("Excerpt displayed","contextual-related-posts"):(0,a.__)("No excerpt","contextual-related-posts"),checked:e,onChange:n})),(0,l.createElement)(i.PanelRow,null,(0,l.createElement)(i.ToggleControl,{label:(0,a.__)("Show author","contextual-related-posts"),help:t?(0,a.__)('"by Author Name" displayed',"contextual-related-posts"):(0,a.__)("No author displayed","contextual-related-posts"),checked:t,onChange:r})),(0,l.createElement)(i.PanelRow,null,(0,l.createElement)(i.ToggleControl,{label:(0,a.__)("Show date","contextual-related-posts"),help:o?(0,a.__)("Date of post displayed","contextual-related-posts"):(0,a.__)("Date of post not displayed","contextual-related-posts"),checked:o,onChange:s}))),h=({limit:e,offset:t,onChangeLimit:o,onChangeOffset:n})=>(0,l.createElement)(l.Fragment,null,(0,l.createElement)(i.PanelRow,null,(0,l.createElement)(i.TextControl,{label:(0,a.__)("Number of posts","contextual-related-posts"),value:e,onChange:o,help:(0,a.__)("Maximum number of posts to display","contextual-related-posts")})),(0,l.createElement)(i.PanelRow,null,(0,l.createElement)(i.TextControl,{label:(0,a.__)("Offset","contextual-related-posts"),value:t,onChange:n,help:(0,a.__)("Number of posts to skip from the top","contextual-related-posts")}))),u=({ordering:e,random_order:t,onChangeOrdering:o,toggleRandomOrder:n})=>(0,l.createElement)(l.Fragment,null,(0,l.createElement)(i.PanelRow,null,(0,l.createElement)(i.RadioControl,{label:(0,a.__)("Order posts","contextual-related-posts"),selected:e,onChange:o,help:(0,a.__)("This option directly edits the query","contextual-related-posts"),options:[{value:"relevance",label:(0,a.__)("By relevance","contextual-related-posts")},{value:"random",label:(0,a.__)("Randomly","contextual-related-posts")},{value:"date",label:(0,a.__)("By date","contextual-related-posts")}]})),(0,l.createElement)(i.PanelRow,null,(0,l.createElement)(i.ToggleControl,{label:(0,a.__)("Randomize posts","contextual-related-posts"),help:t?(0,a.__)("Posts are shuffled on each load","contextual-related-posts"):(0,a.__)("Posts displayed based on above setting","contextual-related-posts"),checked:t,onChange:n}))),_=({post_thumb_op:e,onChangeThumbnail:t})=>(0,l.createElement)(i.PanelRow,null,(0,l.createElement)(i.SelectControl,{label:(0,a.__)("Thumbnail option","contextual-related-posts"),value:e,onChange:t,help:(0,a.__)("Location of the post thumbnail","contextual-related-posts"),options:[{value:"inline",label:(0,a.__)("Before title","contextual-related-posts")},{value:"after",label:(0,a.__)("After title","contextual-related-posts")},{value:"thumbs_only",label:(0,a.__)("Only thumbnail","contextual-related-posts")},{value:"text_only",label:(0,a.__)("Only text","contextual-related-posts")}]})),m=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":3,"name":"contextual-related-posts/related-posts","version":"2.6.0","title":"Contextual Related Posts","category":"widgets","icon":"list-view","keywords":["related posts","posts","contextual"],"description":"Display the Related Posts","supports":{"html":false},"attributes":{"className":{"type":"string"},"heading":{"type":"boolean"},"title":{"type":"string"},"limit":{"type":"string"},"offset":{"type":"string"},"show_excerpt":{"type":"boolean"},"show_author":{"type":"boolean"},"show_date":{"type":"boolean"},"post_thumb_op":{"type":"string"},"ordering":{"type":"string"},"random_order":{"type":"boolean"},"other_attributes":{"type":"string"}},"textdomain":"contextual-related-posts","editorScript":"file:./index.js"}');(0,t.registerBlockType)(m.name,{...m,icon:o,edit:function({attributes:e,setAttributes:t}){const s=(0,r.select)("core/editor"),m=s?s.getCurrentPostId():0,g=e=>l=>{t({[e]:l})},w=l=>()=>{t({[l]:!e[l]})};return(0,l.createElement)(l.Fragment,null,(0,l.createElement)(n.InspectorControls,null,(0,l.createElement)(i.PanelBody,{title:(0,a.__)("Related Posts Settings","contextual-related-posts"),initialOpen:!0},(0,l.createElement)(p,{heading:e.heading,title:e.title,onChangeTitle:g("title"),toggleHeading:w("heading")}),(0,l.createElement)(h,{limit:e.limit,offset:e.offset,onChangeLimit:g("limit"),onChangeOffset:g("offset")}),(0,l.createElement)(c,{show_excerpt:e.show_excerpt,show_author:e.show_author,show_date:e.show_date,toggleShowExcerpt:w("show_excerpt"),toggleShowAuthor:w("show_author"),toggleShowDate:w("show_date")}),(0,l.createElement)(_,{post_thumb_op:e.post_thumb_op,onChangeThumbnail:g("post_thumb_op")}),(0,l.createElement)(u,{ordering:e.ordering,random_order:e.random_order,onChangeOrdering:g("ordering"),toggleRandomOrder:w("random_order")}),(0,l.createElement)(i.PanelRow,null,(0,l.createElement)(i.TextareaControl,{label:(0,a.__)("Other attributes","contextual-related-posts"),value:e.other_attributes,onChange:g("other_attributes"),help:(0,a.__)("Enter other attributes in a URL-style string-query. e.g. post_types=post,page&link_nofollow=1&exclude_post_ids=5,6","contextual-related-posts")})))),(0,l.createElement)("div",{...(0,n.useBlockProps)()},m?(0,l.createElement)(i.Disabled,null,(0,l.createElement)(d(),{block:"contextual-related-posts/related-posts",attributes:e})):(0,l.createElement)(i.Placeholder,{icon:o,label:(0,a.__)("Contextual Related Posts","contextual-related-posts"),instructions:(0,a.__)("This is a placeholder for the related posts block. Visit the front end of your site to see the related posts.","contextual-related-posts")})))}})})();