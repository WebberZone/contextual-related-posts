(()=>{"use strict";var e={n:t=>{var o=t&&t.__esModule?()=>t.default:()=>t;return e.d(o,{a:o}),o},d:(t,o)=>{for(var l in o)e.o(o,l)&&!e.o(t,l)&&Object.defineProperty(t,l,{enumerable:!0,get:o[l]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=window.wp.blocks,o=window.React,l=(0,o.createElement)("svg",{viewBox:"-1.6 -1.6 19.20 19.20",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:""},(0,o.createElement)("g",{id:"SVGRepo_bgCarrier",strokeWidth:0},(0,o.createElement)("rect",{x:-1.6,y:-1.6,width:19.2,height:19.2,rx:0,fill:"#FFBD59",strokeWidth:0})),(0,o.createElement)("g",{id:"SVGRepo_tracerCarrier",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.createElement)("g",{id:"SVGRepo_iconCarrier"},(0,o.createElement)("path",{d:"M3 1H1V3H3V1Z",fill:"#0a0a0a"}),(0,o.createElement)("path",{d:"M3 5H1V7H3V5Z",fill:"#0a0a0a"}),(0,o.createElement)("path",{d:"M1 9H3V11H1V9Z",fill:"#0a0a0a"}),(0,o.createElement)("path",{d:"M3 13H1V15H3V13Z",fill:"#0a0a0a"}),(0,o.createElement)("path",{d:"M15 1H5V3H15V1Z",fill:"#0a0a0a"}),(0,o.createElement)("path",{d:"M15 5H5V7H15V5Z",fill:"#0a0a0a"}),(0,o.createElement)("path",{d:"M5 9H15V11H5V9Z",fill:"#0a0a0a"}),(0,o.createElement)("path",{d:"M15 13H5V15H15V13Z",fill:"#0a0a0a"}))),a=window.wp.i18n,n=window.wp.blockEditor,r=window.wp.data,s=window.wp.serverSideRender;var d=e.n(s);const i=window.wp.hooks,c=window.wp.components,p=({heading:e,title:t,onChangeTitle:l,toggleHeading:n})=>(0,o.createElement)(o.Fragment,null,(0,o.createElement)(c.PanelRow,null,(0,o.createElement)(c.ToggleControl,{label:(0,a.__)("Show heading","contextual-related-posts"),help:e?(0,a.__)("Heading displayed","contextual-related-posts"):(0,a.__)("No Heading displayed","contextual-related-posts"),checked:e,onChange:n})),e&&(0,o.createElement)(c.PanelRow,null,(0,o.createElement)(c.TextControl,{label:(0,a.__)("Heading of posts","contextual-related-posts"),value:t,onChange:l,help:(0,a.__)("Displayed before the list of the posts as a master heading. HTML allowed.","contextual-related-posts")}))),h=({show_excerpt:e,show_author:t,show_date:l,toggleShowExcerpt:n,toggleShowAuthor:r,toggleShowDate:s})=>(0,o.createElement)(o.Fragment,null,(0,o.createElement)(c.PanelRow,null,(0,o.createElement)(c.ToggleControl,{label:(0,a.__)("Show excerpt","contextual-related-posts"),help:e?(0,a.__)("Excerpt displayed","contextual-related-posts"):(0,a.__)("No excerpt","contextual-related-posts"),checked:e,onChange:n})),(0,o.createElement)(c.PanelRow,null,(0,o.createElement)(c.ToggleControl,{label:(0,a.__)("Show author","contextual-related-posts"),help:t?(0,a.__)('"by Author Name" displayed',"contextual-related-posts"):(0,a.__)("No author displayed","contextual-related-posts"),checked:t,onChange:r})),(0,o.createElement)(c.PanelRow,null,(0,o.createElement)(c.ToggleControl,{label:(0,a.__)("Show date","contextual-related-posts"),help:l?(0,a.__)("Date of post displayed","contextual-related-posts"):(0,a.__)("Date of post not displayed","contextual-related-posts"),checked:l,onChange:s}))),u=({limit:e,offset:t,onChangeLimit:l,onChangeOffset:n})=>(0,o.createElement)(o.Fragment,null,(0,o.createElement)(c.PanelRow,null,(0,o.createElement)(c.TextControl,{label:(0,a.__)("Number of posts","contextual-related-posts"),value:e,onChange:l,help:(0,a.__)("Maximum number of posts to display","contextual-related-posts")})),(0,o.createElement)(c.PanelRow,null,(0,o.createElement)(c.TextControl,{label:(0,a.__)("Offset","contextual-related-posts"),value:t,onChange:n,help:(0,a.__)("Number of posts to skip from the top","contextual-related-posts")}))),g=({ordering:e,random_order:t,onChangeOrdering:l,toggleRandomOrder:n})=>(0,o.createElement)(o.Fragment,null,(0,o.createElement)(c.PanelRow,null,(0,o.createElement)(c.RadioControl,{label:(0,a.__)("Order posts","contextual-related-posts"),selected:e,onChange:l,help:(0,a.__)("This option directly edits the query","contextual-related-posts"),options:[{value:"relevance",label:(0,a.__)("By relevance","contextual-related-posts")},{value:"random",label:(0,a.__)("Randomly","contextual-related-posts")},{value:"date",label:(0,a.__)("By date","contextual-related-posts")}]})),(0,o.createElement)(c.PanelRow,null,(0,o.createElement)(c.ToggleControl,{label:(0,a.__)("Randomize posts","contextual-related-posts"),help:t?(0,a.__)("Posts are shuffled on each load","contextual-related-posts"):(0,a.__)("Posts displayed based on above setting","contextual-related-posts"),checked:t,onChange:n}))),_=({value:e,onChange:t})=>(0,o.createElement)(c.PanelRow,null,(0,o.createElement)(c.TextareaControl,{label:(0,a.__)("Other attributes","contextual-related-posts"),value:e,onChange:t,help:(0,a.__)("Enter other attributes in a URL-style string-query. e.g. post_types=post,page&exclude_post_ids=5,6","contextual-related-posts"),style:{width:"100%"}})),m=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":3,"name":"contextual-related-posts/related-posts","version":"2.6.0","title":"Contextual Related Posts","category":"widgets","icon":"list-view","keywords":["related posts","posts","contextual"],"description":"Display the Related Posts","supports":{"html":false},"attributes":{"className":{"type":"string"},"heading":{"type":"boolean"},"title":{"type":"string"},"limit":{"type":"string"},"offset":{"type":"string"},"show_excerpt":{"type":"boolean"},"show_author":{"type":"boolean"},"show_date":{"type":"boolean"},"crp_styles":{"type":"string"},"post_thumb_op":{"type":"string"},"ordering":{"type":"string"},"random_order":{"type":"boolean"},"other_attributes":{"type":"string"}},"textdomain":"contextual-related-posts","editorScript":"file:./index.js"}');(0,t.registerBlockType)(m.name,{...m,icon:l,edit:function({attributes:e,setAttributes:t}){const s=(0,r.select)("core/editor"),m=s?s.getCurrentPostId():0,w=e=>o=>{t({[e]:o})},x=o=>()=>{t({[o]:!e[o]})};return(0,o.createElement)(o.Fragment,null,(0,o.createElement)(n.InspectorControls,null,(0,o.createElement)(c.PanelBody,{title:(0,a.__)("Related Posts Settings","contextual-related-posts"),initialOpen:!0},(0,o.createElement)(p,{heading:e.heading,title:e.title,onChangeTitle:w("title"),toggleHeading:x("heading")}),(0,o.createElement)(u,{limit:e.limit,offset:e.offset,onChangeLimit:w("limit"),onChangeOffset:w("offset")}),(0,o.createElement)(h,{show_excerpt:e.show_excerpt,show_author:e.show_author,show_date:e.show_date,toggleShowExcerpt:x("show_excerpt"),toggleShowAuthor:x("show_author"),toggleShowDate:x("show_date")}),(0,o.createElement)(g,{ordering:e.ordering,random_order:e.random_order,onChangeOrdering:w("ordering"),toggleRandomOrder:x("random_order")}),(0,i.applyFilters)("crp-edit-inspector-controls","",e,t))),(0,o.createElement)(n.InspectorControls,{group:"advanced"},(0,o.createElement)(_,{value:e.other_attributes,onChange:w("other_attributes")})),(0,o.createElement)("div",{...(0,n.useBlockProps)()},m?(0,o.createElement)(c.Disabled,null,(0,o.createElement)(d(),{block:"contextual-related-posts/related-posts",attributes:e})):(0,o.createElement)(c.Placeholder,{icon:l,label:(0,a.__)("Contextual Related Posts","contextual-related-posts"),instructions:(0,a.__)("This is a placeholder for the related posts block. Visit the front end of your site to see the related posts.","contextual-related-posts")})))}})})();