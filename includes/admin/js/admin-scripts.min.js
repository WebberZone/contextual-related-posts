function crpClearCache(){const e=document.getElementById("cache_clear");return e&&(e.disabled=!0,e.textContent=crp_admin_data.clearing_cache),jQuery.post(ajaxurl,{action:"crp_clear_cache",security:crp_admin_data.security},(function(t,c,a){e&&(e.disabled=!1,e.textContent=crp_admin_data.clear_cache),alert(t.message)}),"json").fail((function(){e&&(e.disabled=!1,e.textContent=crp_admin_data.clear_cache)})),!1}function crpCopyToClipboard(e){const t=document.getElementById(e);if(!t)return;const c=t.parentElement.querySelector(".crp-copy-button");c&&navigator.clipboard.writeText(t.textContent).then((()=>{const e=c.querySelector(".dashicons");e.classList.remove("dashicons-clipboard"),e.classList.add("dashicons-yes"),c.classList.add("copied"),c.title=crpAdmin.copied,setTimeout((()=>{e.classList.remove("dashicons-yes"),e.classList.add("dashicons-clipboard"),c.classList.remove("copied"),c.title=crpAdmin.copyToClipboard}),2e3)})).catch((()=>{const e=c.querySelector(".dashicons");e.classList.remove("dashicons-clipboard"),e.classList.add("dashicons-warning"),c.classList.add("error"),c.title=crpAdmin.copyError,setTimeout((()=>{e.classList.remove("dashicons-warning"),e.classList.add("dashicons-clipboard"),c.classList.remove("error"),c.title=crpAdmin.copyToClipboard}),2e3)}))}function crpAddCopyButton(e){const t=document.getElementById(e);if(!t)return;const c=document.createElement("button");c.type="button",c.className="crp-copy-button",c.setAttribute("aria-label",crpAdmin.copyToClipboard),c.title=crpAdmin.copyToClipboard,c.onclick=()=>crpCopyToClipboard(e);const a=document.createElement("span");a.className="screen-reader-text",a.textContent=crpAdmin.copyToClipboard;const o=document.createElement("span");o.className="dashicons dashicons-clipboard",o.setAttribute("aria-hidden","true"),c.appendChild(a),c.appendChild(o);const s=t.parentElement;s&&s.classList.contains("crp-code-wrapper")&&s.appendChild(c)}